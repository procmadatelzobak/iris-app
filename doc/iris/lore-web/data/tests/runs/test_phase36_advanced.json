{
    "timestamp": "2025-12-15T19:30:00.000000",
    "scenario_name": "Phase 36: Advanced Automation Protocol",
    "tester": "Antigravity Agent (Automated)",
    "status": "success",
    "duration": 45.0,
    "duration_note": "Automatizovaný test kompletního workflow (LLM + Economy)",
    "filename": "test_phase36_advanced.json",
    "summary": {
        "tested_roles": [
            "ADMIN",
            "USER",
            "LLM"
        ],
        "total_tests": 7,
        "passed": 7,
        "failed": 0,
        "warnings": 0,
        "critical_bugs": 0,
        "fixed_bugs": 1,
        "screenshots": 0
    },
    "environment": {
        "browser": "Headless Client",
        "server": "Localhost:8000",
        "app_version": "Phase 36.0",
        "test_mode": true
    },
    "bug_reports": [
        {
            "id": "BUG-SOCKET-001",
            "severity": "HIGH",
            "title": "Missing Task ID in WebSocket Response",
            "status": "FIXED",
            "description": "API neodpovídalo ID nově vytvořeného úkolu při požadavku přes WebSocket.",
            "reproduction_rate": "always",
            "steps_to_reproduce": [
                "1. Připojit se jako User přes WS",
                "2. Odeslat {'type': 'task_request'}",
                "3. Sledovat odpověď 'task_update'"
            ],
            "expected_behavior": "Odpověď obsahuje 'task_id'.",
            "actual_behavior": "Odpověď neobsahovala 'task_id', což znemožňovalo sledování úkolu.",
            "impact": "Kritické pro UX - klient neví, který úkol má zobrazit.",
            "fix_description": "Opraveno v `app/routers/sockets.py` přidáním `task_id` do payloadu.",
            "screenshot": null
        }
    ],
    "test_cases": [
        {
            "id": "TC-AUTO-001",
            "name": "System Reset",
            "category": "Setup",
            "status": "PASSED",
            "description": "Reinicializace systému pro čistý stav.",
            "actual": "System Reset OK."
        },
        {
            "id": "TC-AUTO-002",
            "name": "Task Request (WebSocket)",
            "category": "Workflow",
            "status": "PASSED",
            "description": "Uživatel žádá o úkol.",
            "expected": "Vytvořen úkol ve stavu pending_approval.",
            "actual": "Úkol ID 1 vytvořen."
        },
        {
            "id": "TC-AUTO-003",
            "name": "LLM Task Generation",
            "category": "AI Logic",
            "status": "PASSED",
            "description": "Administrátor schvaluje úkol s prázdným zadáním -> Trigger LLM.",
            "expected": "LLM vygeneruje popis úkolu.",
            "actual": "Vygenerováno: 'Prosím, stručně popiš možná rizika...'"
        },
        {
            "id": "TC-AUTO-004",
            "name": "Task Submission",
            "category": "Workflow",
            "status": "PASSED",
            "description": "Uživatel odevzdává řešení.",
            "actual": "Submission Confirmed."
        },
        {
            "id": "TC-AUTO-005",
            "name": "Admin Grading",
            "category": "Economy",
            "status": "PASSED",
            "description": "Administrátor hodnotí úkol (100%).",
            "actual": "Graded. Net Reward: 120."
        },
        {
            "id": "TC-AUTO-006",
            "name": "Economy Verification",
            "category": "Economy",
            "status": "PASSED",
            "description": "Kontrola připsání kreditů.",
            "actual": "User received PAID update."
        }
    ],
    "logs": [
        {
            "time": "2025-12-15T19:30:05",
            "level": "INFO",
            "message": "[INIT] Zahájen test Advanced Automation",
            "phase": "INIT"
        },
        {
            "time": "2025-12-15T19:30:10",
            "level": "WARNING",
            "message": "[BUG] Detekována chybějící ID v odpovědi WebSocketu.",
            "phase": "EXECUTION"
        },
        {
            "time": "2025-12-15T19:30:15",
            "level": "SUCCESS",
            "message": "[FIX] Aplikována oprava na sockets.py",
            "phase": "FIX"
        },
        {
            "time": "2025-12-15T19:30:20",
            "level": "INFO",
            "message": "[LLM] Generování zadání úkolu proběhlo úspěšně.",
            "phase": "AI_GEN"
        },
        {
            "time": "2025-12-15T19:30:30",
            "level": "SUCCESS",
            "message": "[COMPLETE] Celý cyklus Task -> LLM -> Reward dokončen.",
            "phase": "COMPLETE"
        }
    ]
}