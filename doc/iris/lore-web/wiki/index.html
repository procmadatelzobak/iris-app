<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRIS 4.0 | Organiz√°torsk√° Wiki | HLINIK Phase 34</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Header -->
    <header class="main-header">
        <div class="brand">
            <span class="logo">‚óà</span>
            <span class="brand-text">IRIS 4.0</span>
            <span class="version-badge">HLINIK Phase 34</span>
        </div>
        <nav class="main-nav" id="mainNav">
            <a href="#dashboard" class="nav-link active" data-section="dashboard">
                <span class="nav-icon">üìä</span>
                <span>Dashboard</span>
            </a>
            <a href="#role" class="nav-link" data-section="role">
                <span class="nav-icon">üé≠</span>
                <span>Role</span>
            </a>
            <a href="#uzivatele" class="nav-link" data-section="uzivatele">
                <span class="nav-icon">üë•</span>
                <span>U≈æivatel√©</span>
            </a>
            <a href="#vztahy" class="nav-link" data-section="vztahy">
                <span class="nav-icon">üîó</span>
                <span>Vztahy</span>
            </a>
            <a href="#manualy" class="nav-link" data-section="manualy">
                <span class="nav-icon">üìñ</span>
                <span>Manu√°ly</span>
            </a>
            <a href="#system" class="nav-link" data-section="system">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span>Syst√©m</span>
            </a>
            <a href="#lore" class="nav-link" data-section="lore">
                <span class="nav-icon">üìú</span>
                <span>Lore</span>
            </a>
            <a href="#compliance" class="nav-link" data-section="compliance">
                <span class="nav-icon">üîç</span>
                <span>Audit</span>
            </a>
        </nav>
        <div class="header-actions">
            <a href="/lore-web/" class="btn-secondary" target="_blank">Star√Ω Lore Web</a>
            <a href="/" class="btn-secondary">‚Üê Zpƒõt do aplikace</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Dashboard Section -->
        <section id="section-dashboard" class="content-section active">
            <div class="section-header">
                <h1>Dashboard</h1>
                <p class="section-subtitle">IRIS 4.0 ‚Äì Organiz√°torsk√° wiki aktu√°ln√≠ k HLINIK Phase 34</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-value" id="statUsers">8</div>
                    <div class="stat-label">U≈æivatel√©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ü§ñ</div>
                    <div class="stat-value" id="statAgents">8</div>
                    <div class="stat-label">Agenti</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üëî</div>
                    <div class="stat-value" id="statAdmins">4</div>
                    <div class="stat-label">Spr√°vci</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üîó</div>
                    <div class="stat-value" id="statRelations">8</div>
                    <div class="stat-label">Vztahy</div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>üéØ O projektu</h3>
                    <p>HLIN√çK a syn s.r.o. ‚Äì startup, kter√Ω prod√°v√° AI asistenta jm√©nem IRIS. Ve skuteƒçnosti za AI sed√≠
                        lid≈°t√≠ oper√°to≈ôi (Agenti), kte≈ô√≠ p≈ôedst√≠raj√≠, ≈æe jsou umƒõl√° inteligence.</p>
                    <p class="highlight-text">Tato wiki slou≈æ√≠ jako pracovn√≠ m√≠sto pro organiz√°tory. Obsahuje kompletn√≠
                        definici hry, role, vztahy a dokumentaci.</p>
                </div>

                <div class="dashboard-card">
                    <h3>üìã Rychl√© odkazy</h3>
                    <ul class="quick-links">
                        <li><a href="#role" data-nav="role">Tabulka v≈°ech 20 rol√≠</a></li>
                        <li><a href="#uzivatele" data-nav="uzivatele">Seznam hr√°ƒç≈Ø a briefingy</a></li>
                        <li><a href="#vztahy" data-nav="vztahy">Mapa vztah≈Ø mezi postavami</a></li>
                        <li><a href="#manualy" data-nav="manualy">P≈ô√≠ruƒçky pro hr√°ƒçe</a></li>
                    </ul>
                </div>

                <div class="dashboard-card full-width">
                    <h3>üìê Verze a stav</h3>
                    <div class="version-info">
                        <div class="version-item">
                            <span class="label">Dokumentace:</span>
                            <span class="value">IRIS 4.0 aktu√°ln√≠ k HLINIK Phase 34</span>
                        </div>
                        <div class="version-item">
                            <span class="label">Poƒçet rol√≠:</span>
                            <span class="value">20 (8 User + 8 Agent + 4 Admin)</span>
                        </div>
                        <div class="version-item">
                            <span class="label">Posledn√≠ aktualizace:</span>
                            <span class="value" id="lastUpdate">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Role Section -->
        <section id="section-role" class="content-section">
            <div class="section-header">
                <h1>Role</h1>
                <p class="section-subtitle">Kompletn√≠ p≈ôehled v≈°ech 20 hern√≠ch rol√≠</p>
            </div>

            <div class="filter-bar">
                <button class="filter-btn active" data-filter="all">V≈°echny</button>
                <button class="filter-btn" data-filter="user">üë• U≈æivatel√© (8)</button>
                <button class="filter-btn" data-filter="agent">ü§ñ Agenti (8)</button>
                <button class="filter-btn" data-filter="admin">üëî Spr√°vci (4)</button>
            </div>

            <div class="roles-table-container">
                <table class="data-table" id="rolesTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Jm√©no</th>
                            <th>Typ</th>
                            <th>Archetyp</th>
                            <th>Schopnost</th>
                            <th>Akce</th>
                        </tr>
                    </thead>
                    <tbody id="rolesTableBody">
                        <!-- Dynamicky naplnƒõno -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Uzivatele Section -->
        <section id="section-uzivatele" class="content-section">
            <div class="section-header">
                <h1>P≈ôehled u≈æivatel≈Ø</h1>
                <p class="section-subtitle">Seznam v≈°ech subjekt≈Ø (Users) s mo≈ænost√≠ generovat briefing</p>
            </div>

            <div class="users-grid" id="usersGrid">
                <!-- Dynamicky naplnƒõno -->
            </div>
        </section>

        <!-- Vztahy Section -->
        <section id="section-vztahy" class="content-section">
            <div class="section-header">
                <h1>Mapa vztah≈Ø</h1>
                <p class="section-subtitle">Interaktivn√≠ s√≠≈• vazeb mezi postavami</p>
            </div>

            <div class="relations-legend">
                <span class="legend-item"><span class="dot dot-past"></span> Minulost</span>
                <span class="legend-item"><span class="dot dot-trade"></span> Obchod</span>
                <span class="legend-item"><span class="dot dot-blackmail"></span> Vyd√≠r√°n√≠</span>
                <span class="legend-item"><span class="dot dot-romance"></span> L√°ska</span>
                <span class="legend-item"><span class="dot dot-plot"></span> Spiknut√≠</span>
                <span class="legend-item"><span class="dot dot-rival"></span> Rivalita</span>
            </div>

            <div class="relations-container">
                <svg id="relationsGraph" class="relations-graph"></svg>
            </div>

            <div class="relations-list" id="relationsList">
                <!-- Dynamicky naplnƒõno -->
            </div>
        </section>

        <!-- Manualy Section -->
        <section id="section-manualy" class="content-section">
            <div class="section-header">
                <h1>Manu√°ly</h1>
                <p class="section-subtitle">P≈ô√≠ruƒçky pro jednotliv√© typy hr√°ƒç≈Ø</p>
            </div>

            <div class="manuals-grid">
                <div class="manual-card" data-manual="user">
                    <div class="manual-icon">üë•</div>
                    <h3>P≈ô√≠ruƒçka pro U≈æivatele</h3>
                    <p>Z√°kladn√≠ n√°vod pro subjekty - komunikace, √∫koly, kredity.</p>
                    <div class="manual-actions">
                        <button class="btn-primary" onclick="showManual('user')">Zobrazit</button>
                        <button class="btn-secondary" onclick="exportManualPDF('user')">PDF</button>
                    </div>
                </div>

                <div class="manual-card" data-manual="agent">
                    <div class="manual-icon">ü§ñ</div>
                    <h3>P≈ô√≠ruƒçka pro Agenty</h3>
                    <p>N√°vod pro oper√°tory - odpov√≠d√°n√≠, autopilot, timeouty.</p>
                    <div class="manual-actions">
                        <button class="btn-primary" onclick="showManual('agent')">Zobrazit</button>
                        <button class="btn-secondary" onclick="exportManualPDF('agent')">PDF</button>
                    </div>
                </div>

                <div class="manual-card" data-manual="admin">
                    <div class="manual-icon">üëî</div>
                    <h3>P≈ô√≠ruƒçka pro Spr√°vce</h3>
                    <p>Game Master guide - stanice, ekonomika, monitoring.</p>
                    <div class="manual-actions">
                        <button class="btn-primary" onclick="showManual('admin')">Zobrazit</button>
                        <button class="btn-secondary" onclick="exportManualPDF('admin')">PDF</button>
                    </div>
                </div>

                <div class="manual-card" data-manual="root">
                    <div class="manual-icon">üîê</div>
                    <h3>P≈ô√≠ruƒçka pro ROOT</h3>
                    <p>Hlavn√≠ organiz√°tor - glob√°ln√≠ ovl√°d√°n√≠, AI konfigurace.</p>
                    <div class="manual-actions">
                        <button class="btn-primary" onclick="showManual('root')">Zobrazit</button>
                        <button class="btn-secondary" onclick="exportManualPDF('root')">PDF</button>
                    </div>
                </div>
            </div>

            <div class="manual-viewer" id="manualViewer">
                <div class="manual-viewer-header">
                    <h2 id="manualTitle">N√°zev manu√°lu</h2>
                    <button class="btn-close" onclick="closeManual()">‚úï</button>
                </div>
                <div class="manual-content" id="manualContent">
                    <!-- Dynamicky naplnƒõno -->
                </div>
            </div>
        </section>

        <!-- System Section -->
        <section id="section-system" class="content-section">
            <div class="section-header">
                <h1>Syst√©mov√° dokumentace</h1>
                <p class="section-subtitle">Technick√© specifikace a architektura</p>
            </div>

            <div class="system-grid">
                <div class="system-card">
                    <h3>üèóÔ∏è Architektura</h3>
                    <ul>
                        <li><strong>Backend:</strong> FastAPI (Python)</li>
                        <li><strong>Database:</strong> SQLite</li>
                        <li><strong>Real-time:</strong> WebSockets</li>
                        <li><strong>Frontend:</strong> Jinja2 Templates + Vanilla JS</li>
                    </ul>
                </div>

                <div class="system-card">
                    <h3>ü§ñ LLM Konfigurace</h3>
                    <ul>
                        <li><strong>Task LLM:</strong> Hodnocen√≠ √∫kol≈Ø</li>
                        <li><strong>Optimizer:</strong> P≈ôepis zpr√°v</li>
                        <li><strong>HYPER/Autopilot:</strong> Automatick√© odpovƒõdi</li>
                    </ul>
                </div>

                <div class="system-card">
                    <h3>üí∞ Ekonomika</h3>
                    <ul>
                        <li><strong>Mƒõna:</strong> Neuro-Credits (NC)</li>
                        <li><strong>Treasury:</strong> Spoleƒçn√° pokladna</li>
                        <li><strong>Da≈à:</strong> 20% z odmƒõn za √∫koly</li>
                    </ul>
                </div>

                <div class="system-card">
                    <h3>‚ö° Hern√≠ mechaniky</h3>
                    <ul>
                        <li><strong>Shift:</strong> Rotace p√°rov√°n√≠ User‚ÜîAgent</li>
                        <li><strong>Chernobyl:</strong> √örove≈à stresu syst√©mu</li>
                        <li><strong>Purgatory:</strong> Zablokov√°n√≠ p≈ôi dluhu</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Lore Section -->
        <section id="section-lore" class="content-section">
            <div class="section-header">
                <h1>Lore & P≈ô√≠bƒõh</h1>
                <p class="section-subtitle">Svƒõt hry HLIN√çK</p>
            </div>

            <div class="lore-content">
                <article class="lore-article">
                    <h2>PROJEKT HLIN√çK: Pozad√≠</h2>
                    <p class="lead">Hra je ostrou satirou na technologick√Ω sektor, "Gig Economy" a korpor√°tn√≠ kulturu
                        <em>"Fake it till you make it"</em>.
                    </p>

                    <h3>Firma HLIN√çK a syn s.r.o.</h3>
                    <p>Startup zalo≈æen√Ω synovcem nejmenovan√©ho oligarchy. Prod√°v√° "revoluƒçn√≠ AI asistenta" IRIS, kter√Ω
                        ve skuteƒçnosti neexistuje. Za odpovƒõƒèmi sed√≠ lid≈°t√≠ oper√°to≈ôi - <strong>Agenti</strong> - kte≈ô√≠
                        p≈ôedst√≠raj√≠, ≈æe jsou umƒõl√° inteligence.</p>

                    <h3>C√≠le designu</h3>
                    <ul>
                        <li><strong>Kognitivn√≠ disonance:</strong> U≈æivatel√© vƒõ≈ô√≠ zjevn√© l≈æi, proto≈æe jim to ekonomicky
                            prosp√≠v√°.</li>
                        <li><strong>Od survivalu k hyper-kapitalismu:</strong> Neexistuje vnƒõj≈°√≠ hrozba, pouze trh a
                            dotaƒçn√≠ programy EU.</li>
                        <li><strong>Soci√°ln√≠ experiment:</strong> V√≠tƒõz√≠ ten, kdo nejl√©pe prod√° svou le≈æ.</li>
                    </ul>

                    <h3>Timeline hry</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-marker">Den 1</div>
                            <div class="timeline-content">
                                <h4>N√°stup nov√Ωch zamƒõstnanc≈Ø</h4>
                                <p>Agenti jsou za≈°koleni, u≈æivatel√© se p≈ôihla≈°uj√≠. V≈°e funguje (zat√≠m).</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker">Den 2</div>
                            <div class="timeline-content">
                                <h4>Napƒõt√≠ roste</h4>
                                <p>Syst√©m se p≈ôetƒõ≈æuje, objevuj√≠ se glitche. Vztahy mezi postavami eskaluj√≠.</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker">Den 3</div>
                            <div class="timeline-content">
                                <h4>Meltdown</h4>
                                <p>Fin√°ln√≠ krize. Odhalen√≠ podvodu? Vzpoura? Z√°le≈æ√≠ na hr√°ƒç√≠ch.</p>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
        </section>
    </main>

    <!-- Compliance Section -->
    <section id="section-compliance" class="content-section">
        <div class="section-header">
            <h1>Anal√Ωza shody (Audit)</h1>
            <p class="section-subtitle">Porovn√°n√≠ Aplikace (v35) vs Dokumentace (v34)</p>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-card full-width" style="border-left: 4px solid var(--accent-green);">
                <h3>‚úÖ Celkov√Ω stav shody</h3>
                <p class="lead" style="color: var(--text-primary);">Aplikace je plnƒõ funkƒçn√≠ a odpov√≠d√° hern√≠mu designu
                    popsan√©mu v dokumentaci <strong>IRIS 4.0 Phase 34 HLINIK</strong>. J√°dro syst√©mu (role, ekonomika,
                    komunikace) je shodn√©. Existuj√≠ minoritn√≠ odchylky v n√°zvoslov√≠ ovl√°dac√≠ch prvk≈Ø organiz√°tor≈Ø.</p>
            </div>

            <div class="dashboard-card">
                <h3>‚ö†Ô∏è N√°zvoslov√≠ Stanic (Mapping)</h3>
                <p>Aplikace pou≈æ√≠v√° kryc√≠ n√°zvy pro stanice dashboardu, kter√© se li≈°√≠ od popisn√Ωch n√°zv≈Ø v dokumentaci.
                </p>
                <table class="data-table" style="margin-top: 1rem;">
                    <thead>
                        <tr>
                            <th>Dokumentace</th>
                            <th>Aplikace (Kryc√≠ n√°zev)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Monitoring</td>
                            <td><strong style="color: var(--accent-green)">UMYVADLO</strong></td>
                        </tr>
                        <tr>
                            <td>Kontrola (Nastaven√≠)</td>
                            <td><strong style="color: var(--accent-gold)">ROZKO≈†</strong></td>
                        </tr>
                        <tr>
                            <td>Ekonomika</td>
                            <td><strong style="color: var(--accent-blue)">BAHNO</strong></td>
                        </tr>
                        <tr>
                            <td>√ökoly</td>
                            <td><strong style="color: var(--accent-purple)">MRKEV</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="dashboard-card">
                <h3>üß© Implementovan√© funkce nav√≠c</h3>
                <ul class="quick-links">
                    <li>
                        <strong>Filtr Pravdy (HyperVis):</strong>
                        <em style="color: var(--text-muted)">Aplikace umo≈æ≈àuje p≈ôep√≠nat vizu√°ln√≠ filtry (ƒåern√° sk≈ô√≠≈àka,
                            Forezka), co≈æ nen√≠ detailnƒõ v p≈ô√≠ruƒçk√°ch.</em>
                    </li>
                    <li>
                        <strong>≈ò√≠zen√≠ spot≈ôeby:</strong>
                        <em style="color: var(--text-muted)">Mo≈ænost nastavit re≈æim (√öspora / P≈ôet√≠≈æen√≠) ovliv≈àuj√≠c√≠
                            "Tlak p√°ry".</em>
                    </li>
                </ul>
            </div>

            <div class="dashboard-card">
                <h3>üîß Technick√© rozd√≠ly</h3>
                <ul class="quick-links">
                    <li>
                        <strong>Vztahov√° mapa:</strong>
                        <em style="color: var(--text-muted)">Aplikace obsahuje canvas pro graf, ale pln√° interaktivita
                            (jako zde na wiki) je omezena.</em>
                    </li>
                    <li>
                        <strong>Verze:</strong>
                        <em style="color: var(--text-muted)">Aplikace bƒõ≈æ√≠ na v35 (Dev), dokumentace je fixov√°na na v34
                            (Stable).</em>
                    </li>
                </ul>
            </div>

            <div class="dashboard-card">
                <h3>üìä Ovƒõ≈ôen√© parametry</h3>
                <div class="version-info">
                    <div class="version-item">
                        <span class="label">Da≈à:</span>
                        <span class="value" style="color: var(--accent-green)">20% (Shoda)</span>
                    </div>
                    <div class="version-item">
                        <span class="label">Startovn√≠ kredity:</span>
                        <span class="value" style="color: var(--accent-green)">100 NC (Shoda)</span>
                    </div>
                    <div class="version-item">
                        <span class="label">Poƒçet Agent≈Ø:</span>
                        <span class="value" style="color: var(--accent-green)">8 (Shoda)</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Briefing Modal -->
    <div class="modal-overlay" id="briefingModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="briefingTitle">Briefing</h2>
                <button class="btn-close" onclick="closeBriefing()">‚úï</button>
            </div>
            <div class="modal-body" id="briefingContent">
                <!-- Dynamicky naplnƒõno -->
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" onclick="exportBriefingPDF()">üìÑ Export PDF</button>
                <button class="btn-secondary" onclick="printBriefing()">üñ®Ô∏è Tisk</button>
                <button class="btn-primary" onclick="closeBriefing()">Zav≈ô√≠t</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>